class User
  include MongoMapper::Document

  key :first_name, String, :required => true
  key :last_name, String
  
  many :bottles  
  
  def bottles
    Bottle.where(:user_ids => self.id).all
  end
  
  def add_bottle(bottle)
    bottle.user_ids << self
    bottle.save!
  end

end
